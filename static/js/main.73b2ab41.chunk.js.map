{"version":3,"sources":["pages/Login.js","services/api.js","components/Tweet.js","pages/Timeline.js","App.js","index.js","twitter.svg","like.svg"],"names":["Login","state","username","handleInputChange","e","_this","setState","target","value","handleSubmit","preventDefault","length","localStorage","setItem","props","history","push","react_default","a","createElement","className","src","twitterLogo","alt","onSubmit","this","onChange","placeholder","type","Component","api","axios","create","baseURL","Tweet","handleLike","_callee","_id","regenerator_default","wrap","_context","prev","next","tweet","post","concat","stop","author","content","onClick","like","likes","Timeline","newTweet","tweets","subscribeToEvents","io","socket","on","data","Object","toConsumableArray","map","handleNewTweet","keyCode","abrupt","getItem","get","response","height","onKeyDown","Tweet_Tweet","key","App","BrowserRouter","Switch","Route","path","exact","component","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.73b2ab41.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport './Login.css';\r\nimport twitterLogo from '../twitter.svg';\r\n//import { Containet } from './styles';\r\n\r\nexport default class Login extends Component {\r\n\r\n    state = {\r\n        username: '',\r\n\r\n    };\r\n\r\n    handleInputChange = e => {\r\n        this.setState({ username: e.target.value })\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const { username } = this.state;\r\n        if (!username.length) return;\r\n\r\n        localStorage.setItem('@GoTwitter:username', username);\r\n\r\n        this.props.history.push('/timeline');\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"login-wrapper\">\r\n                <img src={twitterLogo} alt=\"GoTwitter\"/>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <input value={this.state.username} onChange={this.handleInputChange}\r\n                     placeholder=\"Nome de usuário\"/>\r\n                    <button type=\"submit\">Entrar</button>\r\n                </form>\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n}","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:3000'\r\n});\r\n\r\nexport default api;","import React, { Component } from 'react';\r\n\r\nimport like from '../like.svg';\r\nimport './Tweet.css';\r\nimport api from '../services/api';\r\n\r\n\r\nexport default class Tweet extends Component {\r\n\r\n    handleLike =  async () => {\r\n        const { _id } = this.props.tweet;\r\n        await api.post(`likes/${_id}`);\r\n    }\r\n    render() {\r\n        const { tweet } = this.props;\r\n\r\n        return (\r\n            <li className='tweet'>\r\n                <strong>{tweet.author}</strong>\r\n                <p>{tweet.content}</p>\r\n                <button type=\"button\" onClick={this.handleLike}>\r\n                    <img src={like} alt=\"Like\" />\r\n                    {tweet.likes}\r\n                </button>\r\n            </li>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport api from '../services/api';\r\nimport socket from 'socket.io-client';\r\n//import { Containet } from './styles';\r\nimport twitterLogo from '../twitter.svg';\r\nimport './Timeline.css';\r\n\r\nimport Tweet from '../components/Tweet';\r\nexport default class Timeline extends Component {\r\n\r\n    state = {\r\n        newTweet: '',\r\n        tweets: [],\r\n    };\r\n    \r\n    async componentDidMount(){\r\n        this.subscribeToEvents();\r\n        const response = await api.get('tweets');\r\n\r\n        this.setState({tweets: response.data });\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        this.setState({newTweet: e.target.value})\r\n    }\r\n\r\n    subscribeToEvents = () => {\r\n        const io = socket('http://localhost:3000');\r\n\r\n        io.on('tweet', data => {\r\n            this.setState({ tweets: [data, ... this.state.tweets]});\r\n        });\r\n\r\n        io.on('like', data => {\r\n            this.setState({tweets: this.state.tweets.map(tweet =>\r\n                tweet._id === data._id ? data : tweet)\r\n            })\r\n        });\r\n    }\r\n    handleNewTweet = async e => {\r\n        if (e.keyCode != 13) return;\r\n\r\n        const content = this.state.newTweet;\r\n        const author = localStorage.getItem('@GoTwitter:username');\r\n        \r\n        await api.post('tweets', {content, author});\r\n        this.setState({newTweet: ''});\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"timeline-wrapper\">\r\n                <img height={24} src={twitterLogo} alt=\"GoTwitter\"/>\r\n                <form>\r\n                    <textarea \r\n                        value={this.state.newTweet}\r\n                        onChange={this.handleInputChange}\r\n                        onKeyDown= {this.handleNewTweet}\r\n                        placeholder= \"O que está acontecendo?\"\r\n                    />\r\n                </form>\r\n\r\n                <ul className=\"tweet-list\">\r\n\r\n                {\r\n                    this.state.tweets.map(tweet => \r\n                        <Tweet key={tweet._id} tweet={tweet} />\r\n                    )\r\n                }\r\n\r\n                </ul>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\n\nimport Login from './pages/Login'\nimport Timeline from './pages/Timeline';\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/\" exact component={Login}/>\n          <Route path=\"/timeline\" component={Timeline}/>\n\n     \n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","module.exports = __webpack_public_path__ + \"static/media/twitter.7bde2a6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.c71630b0.svg\";"],"sourceRoot":""}